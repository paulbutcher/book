<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dependencies - Programming Flix</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction to Flix</a></li><li class="chapter-item expanded "><a href="getting-started.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="installing.html"><strong aria-hidden="true">2.1.</strong> Installing Flix</a></li><li class="chapter-item expanded "><a href="editor-support.html"><strong aria-hidden="true">2.2.</strong> Editor Support</a></li></ol></li><li class="chapter-item expanded "><a href="projects.html"><strong aria-hidden="true">3.</strong> Projects</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="building.html"><strong aria-hidden="true">3.1.</strong> Building</a></li><li class="chapter-item expanded "><a href="dependencies.html" class="active"><strong aria-hidden="true">3.2.</strong> Dependencies</a></li><li class="chapter-item expanded "><a href="project-reference.html"><strong aria-hidden="true">3.3.</strong> Reference</a></li></ol></li><li class="chapter-item expanded "><a href="data-types.html"><strong aria-hidden="true">4.</strong> Data Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="primitive-types.html"><strong aria-hidden="true">4.1.</strong> Primitives</a></li><li class="chapter-item expanded "><a href="tuples.html"><strong aria-hidden="true">4.2.</strong> Tuples</a></li><li class="chapter-item expanded "><a href="enums.html"><strong aria-hidden="true">4.3.</strong> Enums</a></li><li class="chapter-item expanded "><a href="type-aliases.html"><strong aria-hidden="true">4.4.</strong> Type Aliases</a></li></ol></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">5.</strong> Functions</a></li><li class="chapter-item expanded "><a href="immutable-data.html"><strong aria-hidden="true">6.</strong> Immutable Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lists.html"><strong aria-hidden="true">6.1.</strong> Lists</a></li><li class="chapter-item expanded "><a href="records.html"><strong aria-hidden="true">6.2.</strong> Records</a></li></ol></li><li class="chapter-item expanded "><a href="mutable-data.html"><strong aria-hidden="true">7.</strong> Mutable Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="references.html"><strong aria-hidden="true">7.1.</strong> References</a></li><li class="chapter-item expanded "><a href="arrays.html"><strong aria-hidden="true">7.2.</strong> Arrays</a></li></ol></li><li class="chapter-item expanded "><a href="control-structures.html"><strong aria-hidden="true">8.</strong> Control Structures</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="if-then-else.html"><strong aria-hidden="true">8.1.</strong> If-Then-Else</a></li><li class="chapter-item expanded "><a href="pattern-matching.html"><strong aria-hidden="true">8.2.</strong> Pattern Matching</a></li><li class="chapter-item expanded "><a href="foreach-foryield.html"><strong aria-hidden="true">8.3.</strong> For-Each and For-Yield</a></li></ol></li><li class="chapter-item expanded "><a href="concurrency.html"><strong aria-hidden="true">9.</strong> Concurrency</a></li><li class="chapter-item expanded "><a href="parallelism.html"><strong aria-hidden="true">10.</strong> Parallelism</a></li><li class="chapter-item expanded "><a href="effects.html"><strong aria-hidden="true">11.</strong> Effect System</a></li><li class="chapter-item expanded "><a href="laziness.html"><strong aria-hidden="true">12.</strong> Laziness</a></li><li class="chapter-item expanded "><a href="fixpoints.html"><strong aria-hidden="true">13.</strong> Fixpoints with Datalog</a></li><li class="chapter-item expanded "><a href="type-classes.html"><strong aria-hidden="true">14.</strong> Type Classes</a></li><li class="chapter-item expanded "><a href="namespaces.html"><strong aria-hidden="true">15.</strong> Namespaces</a></li><li class="chapter-item expanded "><a href="interoperability.html"><strong aria-hidden="true">16.</strong> Interoperability</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="creating-objects.html"><strong aria-hidden="true">16.1.</strong> Creating Objects</a></li><li class="chapter-item expanded "><a href="calling-methods.html"><strong aria-hidden="true">16.2.</strong> Calling Methods</a></li><li class="chapter-item expanded "><a href="reading-and-writing-fields.html"><strong aria-hidden="true">16.3.</strong> Reading and Writing Fields</a></li><li class="chapter-item expanded "><a href="extending-classes-and-interfaces.html"><strong aria-hidden="true">16.4.</strong> Classes and Interfaces</a></li><li class="chapter-item expanded "><a href="nested-and-inner-classes.html"><strong aria-hidden="true">16.5.</strong> Nested and Inner classes</a></li></ol></li><li class="chapter-item expanded "><a href="everyday-programming.html"><strong aria-hidden="true">17.</strong> Everyday Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="main.html"><strong aria-hidden="true">17.1.</strong> The Main Function</a></li><li class="chapter-item expanded "><a href="printing-to-stdout.html"><strong aria-hidden="true">17.2.</strong> Printing to Standard Out</a></li><li class="chapter-item expanded "><a href="string-interpolation.html"><strong aria-hidden="true">17.3.</strong> String Interpolation</a></li><li class="chapter-item expanded "><a href="holes.html"><strong aria-hidden="true">17.4.</strong> Anonymous and Named Holes</a></li><li class="chapter-item expanded "><a href="type-ascriptions.html"><strong aria-hidden="true">17.5.</strong> Type Ascriptions</a></li><li class="chapter-item expanded "><a href="redundancy.html"><strong aria-hidden="true">17.6.</strong> Redundancy</a></li><li class="chapter-item expanded "><a href="debugging.html"><strong aria-hidden="true">17.7.</strong> Debugging</a></li></ol></li><li class="chapter-item expanded "><a href="tools.html"><strong aria-hidden="true">18.</strong> Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="vscode.html"><strong aria-hidden="true">18.1.</strong> Visual Studio Code</a></li><li class="chapter-item expanded "><a href="build-and-packages.html"><strong aria-hidden="true">18.2.</strong> Package Manager</a></li><li class="chapter-item expanded "><a href="test-framework.html"><strong aria-hidden="true">18.3.</strong> Test Framework</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="advanced-features.html"><strong aria-hidden="true">19.</strong> Advanced Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="upcast.html"><strong aria-hidden="true">19.1.</strong> Upcasts</a></li><li class="chapter-item expanded "><a href="casts.html"><strong aria-hidden="true">19.2.</strong> Type and Effect Casts</a></li><li class="chapter-item expanded "><a href="bug-and-unreachable.html"><strong aria-hidden="true">19.3.</strong> Bugs and Unreachable Code</a></li><li class="chapter-item expanded "><a href="purity-reflection.html"><strong aria-hidden="true">19.4.</strong> Purity Reflection</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="appendix.html"><strong aria-hidden="true">20.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="identifiers.html"><strong aria-hidden="true">20.1.</strong> Legal Identifiers</a></li><li class="chapter-item expanded "><a href="precedence.html"><strong aria-hidden="true">20.2.</strong> Operator Precedence</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Programming Flix</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/flix/book/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/flix/book/edit/master/src/dependencies.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="dependencies"><a class="header" href="#dependencies">Dependencies</a></h1>
<p>Flix supports two different types of dependency: Flix libraries (Fpkgs) and Jar files. Flix libraries are typically downloaded from GitHub and Jars from Maven (other repositories will be supported in the future).</p>
<h1 id="specifying-dependencies"><a class="header" href="#specifying-dependencies">Specifying Dependencies</a></h1>
<p>Dependencies shared by all build flavours are specified within the <code>[package.dependencies]</code> section of <code>flix.toml</code>. Dependencies specific to a particular build flavour are specified in <code>[build.&lt;flavour&gt;.dependencies]</code>, for example:</p>
<pre><code class="language-ini">[package]
name = &quot;example-flix-project&quot;
version = &quot;1.2.3&quot;
flix = &quot;0.31.0&quot;

[package.dependencies]
mvn.&quot;org.postgresql/postgresql&quot; = &quot;42.3.3&quot;
mvn.&quot;org.eclipse.jetty/jetty-server&quot; = &quot;11.0.11&quot;
fpkg.&quot;com.github.paulbutcher/my-flix-library&quot; = &quot;0.3.1&quot;

[build.dev.dependencies]
fpkg.&quot;com.github.example/debugging-helper&quot; = &quot;2.3.4&quot;
</code></pre>
<p>This defines an application which depends upon two different Maven dependencies: <code>org.postgresql/postgresql</code> and <code>org.eclipse.jetty/jetty-server</code>, plus a single Fpgk: <code>com.github.paulbutcher/my-flix-library</code>. The development build also depends upon an additional Fpkg: <code>com.github.example/debugging-helper</code>.</p>
<blockquote>
<p>ü§î Note: In <a href="https://github.com/flix/flix/issues/4380">#4380</a> I proposed that we had ‚Äúgroup-id/artifact‚Äù.mvn, but I think I‚Äôve convinced myself that the other way around works slightly better. Ultimately it doesn‚Äôt really make much difference and we can pick whichever way round we think is best.</p>
</blockquote>
<h1 id="maven-dependencies"><a class="header" href="#maven-dependencies">Maven Dependencies</a></h1>
<p>Maven dependencies are specified as a <a href="https://maven.apache.org/pom.html#Maven_Coordinates"><em>maven coordinate</em></a> of the form <code>groupId/artifactId</code>. In the simple case this maps onto a simple version number, but in the event that you need to deal with subdependency conflicts or reduce the size of the build, you can exclude subdependencies as follows:</p>
<pre><code class="language-ini">[package.dependencies]
mvn.&quot;org.eclipse.jetty/jetty-server&quot; = { version = &quot;11.0.11&quot;, exclusions = [&quot;org.slf4j/slf4j-api&quot;] }
</code></pre>
<p>Maven dependencies are downloaded to your <code>~/.m2</code> directory and referenced directly on the classpath (i.e. if two different projects reference the same dependency, it is only downloaded once).</p>
<blockquote>
<p>ü§î Note: Ultimately we‚Äôll have to handle all kinds of interesting edge cases like:</p>
<ul>
<li>Allowing different maven repositories over and above maven central</li>
<li>Support for authenticated repos</li>
<li>Maven proxies</li>
<li>Ability to configure the local repository</li>
<li>‚Ä¶</li>
</ul>
<p>But I suggest that we keep things simple to start with.</p>
</blockquote>
<h1 id="fpgk-dependencies"><a class="header" href="#fpgk-dependencies">Fpgk Dependencies</a></h1>
<p>Flix library dependencies reference a GitHub release specified in the form <code>com.github.&lt;org&gt;/project</code>. The version number references a specific <a href="https://docs.github.com/en/repositories/releasing-projects-on-github">release</a>.</p>
<p>An Fpkg release comprises two files:</p>
<ul>
<li>An <code>.fpkg</code> file containing the compressed source code for the library.</li>
<li>The library‚Äôs <code>flix.toml</code> file which is used to determine metadata for the library.</li>
</ul>
<p>Flix requires that a library specifies at least the following minimum set of metadata:</p>
<ul>
<li>Name</li>
<li>Description</li>
<li>Version</li>
<li>License</li>
<li>Homepage</li>
</ul>
<p>Fpkg dependencies are downloaded to your <code>~/.fpkg</code> directory and referenced directly (i.e. if two different projects reference the same dependency, it is only downloaded once).</p>
<blockquote>
<p>ü§î Note: I suspect that we might have to get users to authenticate with GitHub in the same manner as the <a href="https://cli.github.com">GitHub CLI</a> because otherwise they‚Äôre likely to be rate limited when accessing the GitHub API.</p>
</blockquote>
<h2 id="building-fpkg-dependencies"><a class="header" href="#building-fpkg-dependencies">Building Fpkg Dependencies</a></h2>
<p>Imagine that we have a Flix library project with the following structure:</p>
<pre class="svgbob"><style>text{fill:var(--fg)}</style><svg xmlns="http://www.w3.org/2000/svg" width="224" height="352">
  <style>
    line, path, circle, rect, polygon{stroke:var(--fg);stroke-width:2;stroke-opacity:1;fill-opacity:1;stroke-linecap:round;stroke-linejoin:miter;}text{font-family:Iosevka Fixed, monospace;font-size:14px;}rect.backdrop{stroke:none;fill:transparent;}.broken{stroke-dasharray:8;}.filled{fill:black;}.bg_filled{fill:transparent;}.nofill{fill:transparent;}.end_marked_arrow{marker-end:url(#arrow);}.start_marked_arrow{marker-start:url(#arrow);}.end_marked_diamond{marker-end:url(#diamond);}.start_marked_diamond{marker-start:url(#diamond);}.end_marked_circle{marker-end:url(#circle);}.start_marked_circle{marker-start:url(#circle);}.end_marked_open_circle{marker-end:url(#open_circle);}.start_marked_open_circle{marker-start:url(#open_circle);}.end_marked_big_open_circle{marker-end:url(#big_open_circle);}.start_marked_big_open_circle{marker-start:url(#big_open_circle);}
    <!--separator-->
    
  </style>
  <defs>
    <marker id="arrow" viewBox="-2 -2 8 8" refX="4" refY="2" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <polygon points="0,0 0,4 4,2 0,0"></polygon>
    </marker>
    <marker id="diamond" viewBox="-2 -2 8 8" refX="4" refY="2" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <polygon points="0,2 2,0 4,2 2,4 0,2"></polygon>
    </marker>
    <marker id="circle" viewBox="0 0 8 8" refX="4" refY="4" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <circle cx="4" cy="4" r="2" class="filled"></circle>
    </marker>
    <marker id="open_circle" viewBox="0 0 8 8" refX="4" refY="4" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <circle cx="4" cy="4" r="2" class="bg_filled"></circle>
    </marker>
    <marker id="big_open_circle" viewBox="0 0 8 8" refX="4" refY="4" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <circle cx="4" cy="4" r="3" class="bg_filled"></circle>
    </marker>
  </defs>
  <rect class="backdrop" x="0" y="0" width="224" height="352"></rect>
  <text x="34" y="28" >src</text>
  <text x="66" y="60" >Example.flix</text>
  <text x="66" y="76" >Utils.flix</text>
  <text x="34" y="108" >test</text>
  <text x="66" y="140" >TestExample.flix</text>
  <text x="34" y="172" >resources</text>
  <text x="66" y="204" >ProductionData.json</text>
  <text x="34" y="236" >dev</text>
  <text x="66" y="268" >DebuggingData.json</text>
  <text x="34" y="300" >flix.toml</text>
  <text x="34" y="316" >LICENSE.txt</text>
  <text x="34" y="332" >README.md</text>
  <g>
    <line x1="12" y1="0" x2="12" y2="324" class="solid"></line>
    <line x1="12" y1="24" x2="24" y2="24" class="solid"></line>
    <line x1="12" y1="104" x2="24" y2="104" class="solid"></line>
    <line x1="12" y1="168" x2="24" y2="168" class="solid"></line>
    <line x1="12" y1="232" x2="24" y2="232" class="solid"></line>
    <line x1="12" y1="296" x2="24" y2="296" class="solid"></line>
    <line x1="12" y1="312" x2="24" y2="312" class="solid"></line>
    <path d="M 12,324 A 4,4 0,0,0 16,328" class="nofill"></path>
    <line x1="16" y1="328" x2="24" y2="328" class="solid"></line>
  </g>
  <g>
    <line x1="44" y1="32" x2="44" y2="68" class="solid"></line>
    <line x1="44" y1="56" x2="56" y2="56" class="solid"></line>
    <path d="M 44,68 A 4,4 0,0,0 48,72" class="nofill"></path>
    <line x1="48" y1="72" x2="56" y2="72" class="solid"></line>
  </g>
  <g>
    <line x1="44" y1="112" x2="44" y2="132" class="solid"></line>
    <path d="M 44,132 A 4,4 0,0,0 48,136" class="nofill"></path>
    <line x1="48" y1="136" x2="56" y2="136" class="solid"></line>
  </g>
  <g>
    <line x1="44" y1="176" x2="44" y2="196" class="solid"></line>
    <path d="M 44,196 A 4,4 0,0,0 48,200" class="nofill"></path>
    <line x1="48" y1="200" x2="56" y2="200" class="solid"></line>
  </g>
  <g>
    <line x1="44" y1="240" x2="44" y2="260" class="solid"></line>
    <path d="M 44,260 A 4,4 0,0,0 48,264" class="nofill"></path>
    <line x1="48" y1="264" x2="56" y2="264" class="solid"></line>
  </g>
</svg></pre>
<p>Here are the contents of its <code>flix.toml</code>:</p>
<pre><code class="language-ini">[package]
name = &quot;example-flix-library&quot;
version = &quot;2.3.4&quot;
flix = &quot;0.31.0&quot;
license = &quot;MIT OR Apache-2.0&quot;
description = &quot;&quot;&quot;
An example of a Flix library, distributed as an fpkg
&quot;&quot;&quot;
homepage = &quot;https://github.com/org-name/example-flix-library&quot;

[package.dependencies]
mvn.&quot;com.example/some-lib&quot; = &quot;1.2.3&quot;
fpkg.&quot;com.example/another-flix-library&quot; = &quot;2.3.4&quot;

[build.dev.dependencies]
fpkg.&quot;com.github.example/debugging-helper&quot; = &quot;3.4.5&quot;
</code></pre>
<p>An Fpkg can be built from this with the following command:</p>
<pre><code>% flix fpkg
</code></pre>
<p>Because the <code>fpkg</code> command uses the <code>prod</code> build flavour by default, the resulting package will contain the contents of the <code>src</code> and <code>resources</code> directories, but not the <code>test</code> or <code>dev</code> directories:</p>
<pre class="svgbob"><style>text{fill:var(--fg)}</style><svg xmlns="http://www.w3.org/2000/svg" width="224" height="224">
  <style>
    line, path, circle, rect, polygon{stroke:var(--fg);stroke-width:2;stroke-opacity:1;fill-opacity:1;stroke-linecap:round;stroke-linejoin:miter;}text{font-family:Iosevka Fixed, monospace;font-size:14px;}rect.backdrop{stroke:none;fill:transparent;}.broken{stroke-dasharray:8;}.filled{fill:black;}.bg_filled{fill:transparent;}.nofill{fill:transparent;}.end_marked_arrow{marker-end:url(#arrow);}.start_marked_arrow{marker-start:url(#arrow);}.end_marked_diamond{marker-end:url(#diamond);}.start_marked_diamond{marker-start:url(#diamond);}.end_marked_circle{marker-end:url(#circle);}.start_marked_circle{marker-start:url(#circle);}.end_marked_open_circle{marker-end:url(#open_circle);}.start_marked_open_circle{marker-start:url(#open_circle);}.end_marked_big_open_circle{marker-end:url(#big_open_circle);}.start_marked_big_open_circle{marker-start:url(#big_open_circle);}
    <!--separator-->
    
  </style>
  <defs>
    <marker id="arrow" viewBox="-2 -2 8 8" refX="4" refY="2" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <polygon points="0,0 0,4 4,2 0,0"></polygon>
    </marker>
    <marker id="diamond" viewBox="-2 -2 8 8" refX="4" refY="2" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <polygon points="0,2 2,0 4,2 2,4 0,2"></polygon>
    </marker>
    <marker id="circle" viewBox="0 0 8 8" refX="4" refY="4" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <circle cx="4" cy="4" r="2" class="filled"></circle>
    </marker>
    <marker id="open_circle" viewBox="0 0 8 8" refX="4" refY="4" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <circle cx="4" cy="4" r="2" class="bg_filled"></circle>
    </marker>
    <marker id="big_open_circle" viewBox="0 0 8 8" refX="4" refY="4" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
      <circle cx="4" cy="4" r="3" class="bg_filled"></circle>
    </marker>
  </defs>
  <rect class="backdrop" x="0" y="0" width="224" height="224"></rect>
  <text x="34" y="28" >src</text>
  <text x="66" y="60" >Example.flix</text>
  <text x="66" y="76" >Utils.flix</text>
  <text x="34" y="108" >resources</text>
  <text x="66" y="140" >ProductionData.json</text>
  <text x="34" y="172" >flix.toml</text>
  <text x="34" y="188" >LICENSE.txt</text>
  <text x="34" y="204" >README.md</text>
  <g>
    <line x1="12" y1="0" x2="12" y2="196" class="solid"></line>
    <line x1="12" y1="24" x2="24" y2="24" class="solid"></line>
    <line x1="12" y1="104" x2="24" y2="104" class="solid"></line>
    <line x1="12" y1="168" x2="24" y2="168" class="solid"></line>
    <line x1="12" y1="184" x2="24" y2="184" class="solid"></line>
    <path d="M 12,196 A 4,4 0,0,0 16,200" class="nofill"></path>
    <line x1="16" y1="200" x2="24" y2="200" class="solid"></line>
  </g>
  <g>
    <line x1="44" y1="32" x2="44" y2="68" class="solid"></line>
    <line x1="44" y1="56" x2="56" y2="56" class="solid"></line>
    <path d="M 44,68 A 4,4 0,0,0 48,72" class="nofill"></path>
    <line x1="48" y1="72" x2="56" y2="72" class="solid"></line>
  </g>
  <g>
    <line x1="44" y1="112" x2="44" y2="132" class="solid"></line>
    <path d="M 44,132 A 4,4 0,0,0 48,136" class="nofill"></path>
    <line x1="48" y1="136" x2="56" y2="136" class="solid"></line>
  </g>
</svg></pre>
<p>The Fpkg can be uploaded to a GitHub release with:</p>
<pre><code>% flix release
</code></pre>
<blockquote>
<p>ü§î Note: We‚Äôll definitely need to user to authenticate with GitHub for this!</p>
</blockquote>
<h1 id="semantic-versioning"><a class="header" href="#semantic-versioning">Semantic Versioning</a></h1>
<p>Flix is opinionated on versioning and enforces <a href="https://semver.org">semantic versioning</a> for Fpkg dependencies. In other words Flix assumes that version 1.3.4 of a library is backwardly compatible with (say) version 1.2.3 but that 2.1.2 is not.</p>
<p>A future version of the compiler will automatically detect and forbid changes to a library‚Äôs public API which break semantic versioning. So it will not allow any changes to the public API for patch releases (e.g. from 1.2.3 to 1.2.4), and will not allow changes that are not backwardly compatible for minor releases (e.g. from 1.2.3 to 1.3.0).</p>
<h1 id="dependency-resolution"><a class="header" href="#dependency-resolution">Dependency Resolution</a></h1>
<p>Unlike (for example) <a href="https://docs.npmjs.com/cli">npm</a> or <a href="https://doc.rust-lang.org/stable/cargo/index.html">Cargo</a> version numbers in <code>flix.html</code> are specified exactly: you get precisely the version of the library referenced. There are no <a href="https://doc.rust-lang.org/stable/cargo/reference/specifying-dependencies.html">version ranges, tildes, carets, or wildcards</a>.</p>
<p>In the event that two dependencies both depend on the same sub-dependency, the most recent version specified will be used, as long as the versions they use are compatible according to semantic versioning.</p>
<p>For example, imagine that this is the <code>[package.dependencies]</code> section of our <code>flix.toml</code>:</p>
<pre><code class="language-ini">[package.dependencies]
fpgk.&quot;com.example/frobnicate&quot; = &quot;1.2.3&quot;
fpkg.&quot;com.example/munge&quot; = &quot;2.0.1&quot;
</code></pre>
<p>Let‚Äôs imagine that both Frobnicate and Munge depend upon a third library ‚ÄúLoggify‚Äù. Perhaps Frobnicate depends upon version <code>1.0.1</code> and Munge depends upon version <code>1.2.3</code>. In this case, Flix will download and used version <code>1.2.3</code> because it‚Äôs the most recent version and is backwards compatible with <code>1.0.1</code>.</p>
<p>But imagine that we upgrade to release <code>2.0.0</code> of Frobnicate which now depends upon Loggify <code>2.1.0</code>. Now Flix will raise an error because <code>2.1.0</code> is not backwardly compatible with the version of Loggify being used by Munge.</p>
<p>If you find yourself in this situation, you will either have to wait for your dependencies to be upgraded or, if testing demonstrates that the most recent version of the library works for your situation, you can override Flix‚Äôs default behaviour by excluding the sub-dependency:</p>
<pre><code class="language-ini">[package.dependencies]
fpgk.&quot;com.example/frobnicate&quot; = { version = &quot;2.0.0&quot;, exclusions = [&quot;com.example/loggify&quot;] }
fpkg.&quot;com.example/munge&quot; = &quot;2.0.1&quot;
</code></pre>
<h1 id="utilities"><a class="header" href="#utilities">Utilities</a></h1>
<p>You can visualise a project‚Äôs dependency tree with:</p>
<pre><code>% flix dependencies
com.example/frobnicate: 2.0.0
  - com.example/loggify: 2.1.0 (excluded)
com.example/munge: 2.0.1
  - com.example/loggify: 1.2.3
</code></pre>
<p>You can see whether newer versions of dependencies are available with:</p>
<pre><code>% flix outdated
com.example.frobnicate:
  Version in use: 1.2.3
  More recent patch version available: 1.2.4
  More recent minor version available: 1.3.0
</code></pre>
<p>And you can automatically update <code>flix.toml</code> with <code>flix upgrade</code>:</p>
<pre><code>% flix upgrade --help
Usage: flix upgrade [--patch|--minor|--major]
Automatically upgrades dependencies to the most recent patch, minor, or major versions.
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="building.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="project-reference.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="building.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="project-reference.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
